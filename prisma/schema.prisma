generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model MeterReadingHistory {
  id            BigInt   @id @default(autoincrement())
  meterId       String
  kwhConsumedAc Float
  voltage       Float
  timestamp     DateTime

  @@index([meterId, timestamp])
  @@map("meter_readings_history")
}

model VehicleReadingHistory {
  id             BigInt   @id @default(autoincrement())
  vehicleId      String
  soc            Int
  kwhDeliveredDc Float
  batteryTemp    Float
  timestamp      DateTime

  @@index([vehicleId, timestamp])
  @@map("vehicle_readings_history")
}

model MeterLiveStatus {
  meterId           String   @id
  lastKwhConsumedAc Float
  lastVoltage       Float
  lastTimestamp     DateTime

  @@map("meter_live_status")
}

model VehicleLiveStatus {
  vehicleId          String   @id
  soc                Int
  lastKwhDeliveredDc Float
  lastBatteryTemp    Float
  lastTimestamp      DateTime

  @@map("vehicle_live_status")
}
